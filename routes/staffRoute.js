const express=require('express');
const router=express.Router();
const isAdmin=require('../middlewares/isAdmin');
const staffController=require('../controllers/staffController');
const staffAvailabilityController=require('../controllers/staffAvailabilityController');
router.post('/',isAdmin,staffController.addStaff);
router.get('/',staffController.getAll);
router.get('/:id',staffController.getById);
router.put('/:id',isAdmin,staffController.updateStaff);
router.delete('/:id',isAdmin,staffController.removeStaff);
router.post('/:id/availability',isAdmin,staffAvailabilityController.setAvailabilityForStaff);
router.get('/:id/availability',isAdmin,staffAvailabilityController.getAvailabilityForStaff);
router.put('/availability/:availabilityId',isAdmin,staffAvailabilityController.updateAvailabilitySlot);
router.delete('/availability/:availabilityId',isAdmin,staffAvailabilityController.deleteAvailabilitySlot);
router.post('/:id/assign-service',isAdmin,staffController.assignServicesToStaff);
module.exports=router;